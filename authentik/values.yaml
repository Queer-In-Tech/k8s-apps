authentik:
  secret_key: file:///authentik-secret-key/secret_key
  postgresql:
    host: file:///postgres-creds/host
    user: file:///postgres-creds/username
    password: file:///postgres-creds/password
  email:
    from: file:///authentik-mail/from
    host: file:///authentik-mail/host
    username: file:///authentik-mail/username
    password: file:///authentik-mail/password

server:
  route:
    main:
      enabled: true
      hostnames:
      - auth.queerintech.org
      parentRefs:
      - name: traefik-gateway
        namespace: traefik
  volumes:
    - name: postgres-creds
      secret:
        secretName: postgres-app
    - name: authentik-secret-key
      secret:
        secretName: authentik-secret-key
    - name: authentik-mail
      secret:
        secretName: authentik-mail
  volumeMounts:
    - name: postgres-creds
      mountPath: /postgres-creds
      readOnly: true
    - name: authentik-secret-key
      mountPath: /authentik-secret-key
      readOnly: true
    - name: authentik-mail
      mountPath: /authentik-mail
      readOnly: true

worker:
  volumes:
    - name: postgres-creds
      secret:
        secretName: postgres-app
    - name: authentik-secret-key
      secret:
        secretName: authentik-secret-key
    - name: authentik-mail
      secret:
        secretName: authentik-mail
  volumeMounts:
    - name: postgres-creds
      mountPath: /postgres-creds
      readOnly: true
    - name: authentik-secret-key
      mountPath: /authentik-secret-key
      readOnly: true
    - name: authentik-mail
      mountPath: /authentik-mail
      readOnly: true